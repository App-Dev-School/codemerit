<section class="content">
  <div class="content-block">
    <div class="block-header">
      <!-- breadcrumb -->
      <!-- <app-breadcrumb [title]="'Profile'" [items]="['Extra']" [active_item]="'Profile'"></app-breadcrumb> -->
    </div>
     @if (loading) {
      <div class="overlay"></div>
      <div class="animToast loading">
        <img src="assets/images/icons/loading.gif" class="loadingIcon">
        <h4>Loading Profile</h4>
        <h5>Please wait</h5>
      </div>
      }
    <!-- Display User profile, designation details, badges and rewards  -->
     @if (!loading && userDetail) {
    <div class="row m-t-10 clearfix">
      <div class="col-lg-8 col-md-12">
        <div class="card">
          <div class="m-b-20">
            <div class="contact-grid">
              <div class="profile-header bg-dark">
                <div class="user-name">{{ userDetail.firstName +' '+ userDetail.lastName}}</div>
                <div class="name-center">{{ userDetail.city }} {{ userDetail.country }}</div>
              </div>
              <img src="assets/images/users/user.jpg" class="user-img" alt="">
              <!-- <p>
               {{ userDetail.city }} {{ userDetail.country }}
              </p> -->
              @if (selfView && userDetail.mobile) {
               <div>
                <span class="phone">
                  <i class="material-icons">phone</i>Verified</span>
              </div>
              }
              <!-- <hr class="dim-divider"> -->
              <div class="userDesignation"><mat-icon>stars</mat-icon> {{ userDetail.designation }}</div>
              <hr class="dim-divider">
              <ul class="list-unstyled cm-icon-list m-b-0">
                <!-- use userDetail.mysubjects -->
                @for (subject of mySubjects; track subject) {
                <li class="avatar avatar-sm">
                  <img class="rounded-circle1" [src]="subject.image" alt="{{subject.title}}">
                </li>
                }
                @if (mySubjects.length > 7) {
                <li class="cm-avatar cm-avatar-sm">
                  <span class="badge">+{{ mySubjects.length - 7 }} skills</span>
                </li>
                }
              </ul>
              <hr class="dim-divider">
              <div class="row">
                <div class="col-4">
                  <p class="font-16 font-b-600">
                    <mat-icon>{{ userDetail.profile?.selfRatingDone ? 'check_circle' : 'cancel' }}</mat-icon></p>
                  <small>Onboarded</small>
                </div>
                <div class="col-4">
                  <p class="font-16 font-b-600">
                    <mat-icon>{{ userDetail.profile?.level1Assessment ? 'check_circle' : 'cancel' }}</mat-icon>
                  </p>
                  <small>Initial Assessment</small>
                </div>
                <div class="col-4">
                  <p class="font-16 font-b-600">
                    <mat-icon>{{ userDetail.profile?.level2Assessment ? 'check_circle' : 'cancel' }}</mat-icon>
                    </p>
                  <small>Learner Badge </small>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="card">
          <mat-tab-group mat-align-tabs="start">
            <mat-tab label="Achievements">
              <div class="p-4">
                <p>This section contains achievements</p>
              </div>
            </mat-tab>
            <mat-tab label="Skills">
              <ul class="list-unstyled p-4">
                 <li>
                  <div>HTML 5</div>
                  <div class="progress skill-progress m-b-20">
                    <div class="progress-bar l-bg-cyan width-per-39" role="progressbar" aria-valuenow="39"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </li>
                <li>
                  <div>CSS3</div>
                  <div class="progress skill-progress m-b-20">
                    <div class="progress-bar l-bg-green width-per-45" role="progressbar" aria-valuenow="45"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </li>
                <li>
                  <div>TypeScript</div>
                  <div class="progress skill-progress m-b-20">
                    <div class="progress-bar l-bg-orange width-per-38" role="progressbar" aria-valuenow="38"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </li>
                <li>
                  <div>Angular</div>
                  <div class="progress skill-progress m-b-20">
                    <div class="progress-bar l-bg-purple width-per-70" role="progressbar" aria-valuenow="70"
                      aria-valuemin="0" aria-valuemax="100"></div>
                  </div>
                </li>
              </ul>
            </mat-tab>
            <mat-tab label="About">
              <div class="p-4">
                <p class="text-default">{{ userDetail.profile?.about }}</p>
                <small class="text-muted">Email address: </small>
                <p>{{ userDetail.email }}</p>
                <hr>
                <small class="text-muted">Phone: </small>
                <p>{{ userDetail.mobile ?? 'NA' }}</p>
                <hr>
                <small class="text-muted">LinkedIn: </small>
                <p>{{ userDetail.profile?.linkedinUrl ?? 'NA' }}</p>
                <hr>
                <small class="text-muted">User Name: </small>
                <p>{{ userDetail.username }}</p>
                <hr>
                <small class="text-muted">User ID: </small>
                <p>CDMR00-{{ userDetail.id }}</p>
                <hr>
                <small class="text-muted">Registration Date: </small>
                <p>{{ userDetail.createdAt | date:'MM/dd/yyyy' }}</p>
                <hr>
              </div>
            </mat-tab>
          </mat-tab-group>
        </div>
      </div>
      <!-- <div class="col-lg-4 col-md-12">
      </div> -->
    </div>
    }
  </div>
</section>
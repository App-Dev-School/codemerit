@if(showContent){
<section class="content" [@slideInOut]>
  <div class="content-block">
    <div class="block-header">
      <app-breadcrumb [title]="' Dashboard'" [items]="[]" [active_item]="'Dashboard'"></app-breadcrumb>
    </div>

    <div class="row m-t-5 match-height clearfix">
      <div class="col-xl-4 col-lg-5 col-md-5 col-sm-12">
        <div class="card">
          <div class="m-b-20">
            <div class="contact-grid">
              <div class="profile-header bg-dark">
                <div class="user-name">{{(userData| async)?.firstName}} {{(userData| async)?.lastName}}</div>
                @if ((userData| async)?.designation) {
                <div class="name-center">{{ (userData| async)?.designation }}</div>
                }@else{
                <div class="name-center">New Joiner</div>
                }
              </div>
              <img src="assets/images/users/user.jpg" class="user-img" alt="{{(userData| async)?.firstName}}">
              <p>
                {{(userData| async)?.country}}
              </p>
            </div>
            <div class="text-center p-t-20">
              @if ((userData| async)?.designation) {
              <button type="button" (click)="openCourseLauncher('default')" class="btn btn-outline-default"
                rippleEffect>
                Select Designation</button>
              }
              <hr>
              <button mat-flat-button (click)="goToCourses()" color="primary"><i class="material-icons">lock</i> Switch
                Role</button>
            </div>
          </div>
        </div>
        <hr class="col-grey">
      </div>

      <div class="col-xl-8 col-lg-7 col-md-7 col-sm-12">
        @if (!(userData | async)?.designation) {
        <app-medal-card [userName]="'Hi '+(userData| async)?.firstName +'!'"
          [message]="'Up-Skill and Evaluate Skills in '+subjectData?.title+'.'"></app-medal-card>

        }
        @if ((userData | async)?.country) {
        <app-congratulations-card
          [userName]="(userData| async)?.firstName+' '+(userData| async)?.lastName"></app-congratulations-card>

        }
        <div class="row text-center m-t-20 m-b-20 clearfix">
          <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
            <h4 class="text-center font-20"><span class="col-grey">{{subjectData?.title}} Skill Assessment</span>
            </h4>
          </div>
          @if (subjectData && subjectData?.subjects) {
          @for (item of subjectData?.subjects; track item) {
          <div class="col-xl-6 col-lg-12 col-md-12 col-sm-12">
            <!--- Start Subject Tracker Card -->
            <mat-card>
              <mat-card-content>
                <div class="subject-card d-flex align-items-start">

                  <!-- Avatar -->
                  <div class="avatar-section">
                    <img [src]="item?.image || 'assets/images/tech/placeholder.png'" alt="Avatar" class="avatar-img" />
                  </div>

                  <!-- Subject Info -->
                  <div class="subject-info flex-grow-1">
                    <div class="subjectHeader">
                      <mat-card-title class="text">{{item?.title}}</mat-card-title>
                    </div>
                    <p class="font-12">{{item?.description}}</p>
                  </div>

                  <!-- Score Box -->
                  <div class="score-section text-center">
                    <div class="score-box">
                      {{80+item?.id}}%
                    </div>
                    <!-- <app-quiz-progress [title]="'Overall Score %'"></app-quiz-progress> -->
      <h6 class="center-header">Overall Score</h6>
      <small class="mb-0">Grade : A</small>
                  </div>
                </div>
                <mat-card-footer>
                  <!-- Optional Coverage Section -->
                    <ul class="list-unstyled">
                      <li>
                        <div class="mb-2 d-flex justify-content-between">
                          <span class="progress-label">Coverage</span>
                          <span class="progress-percent label label-success">{{item.id}}%</span>
                        </div>
                        <div class="progress skill-progress w-100">
                          <div class="progress-bar progress-bar-success" [style.width]="item.id + '%'"
                            role="progressbar" [attr.aria-valuenow]="item.id" aria-valuemin="0" aria-valuemax="100">
                          </div>
                        </div>
                      </li>
                    </ul>
                </mat-card-footer>
              </mat-card-content>

              <!-- Footer -->
              <mat-card-footer>
                <div class="text-center">
                  <button type="button" (click)="launchSubject(item?.title)" class="btn btn-outline-default"
                    rippleEffect>
                    Start
                  </button>
                </div>
              </mat-card-footer>
            </mat-card>

            <!--- End Subject Tracker Card -->
          </div>
          }
          }
        </div>

      </div>
    </div>

  </div>
</section>
}

<ng-template #subjectTracker>

</ng-template>
@if(requestConfirmed && generatedQuizCode){
<div class="form-section">
  <div class="text-center">
    <img [src]="'assets/images/icons/tick.png'" class="loadingIcon m-b-20">
    <h5>Quiz Created Successfully</h5>
    <!-- <h6>Code : {{generatedQuizCode}}</h6> -->
    <p class="font-12 text-center m-t-20">
      Take it now to test your knowledge, or invite others to measure their skills.
    </p>
    <hr class="gre">
    <div class="container-auth-form-btn m-t-20 m0b-20">
      <button mat-flat-button color="accent" class="auth-form-btn" (click)="launchQuiz()" type="submit">
        Start Quiz
      </button>
    </div>
    <button class="m-t-20 m-b-10" mat-button color="accent" (click)="close()">
      Will Take Later
    </button>
  </div>
</div>
}

@if(requestConfirmed && loading){
<div class="form-section">
  <div class="text-center">
    @if (finished) {
    <img [src]="'assets/images/icons/evaluating.gif'" class="image-pulse largerLoadingIcon m-b-20">
    }@else {
    <img [src]="'assets/images/icons/hinting.gif'" class="image-pulse largerLoadingIcon m-b-20">
    }
    <div class="content">
      <h2 class="glow-text">{{ currentMessage }}</h2>
    </div>
  </div>
</div>
}

@if (!requestConfirmed) {
<div class="form-section">
  <div class="auth-wrapper">
    <div class="text-center m-t-0 m-b-10">
      @if (data && data?.title) {
      <h3 class="welcome-msg text-center"> {{data?.title}} </h3>
      }@else {
      <h6 class="welcome-msg text-center"> Are you ready for an assessment? </h6>
      }

      @if (data && data?.message) {
      <p class="font-12 text-center">{{data?.message}}</p>
      }
      <!-- <h6 class="social-login-title">Configure Your Assessment</h6> -->
       <p class="font-14 m-b-0">Select your preference to generate an assessment.</p>
      <!-- <div class="text-center">
        <img src="assets/images/icons/creatingQuiz.gif" alt="codemerit" class="largerLoadingIcon animEntry" />
      </div> -->
       <hr class="dim-divider">
    </div>

    <form class="validate-form" [formGroup]="quizConfigForm" (ngSubmit)="onSubmit()">
      @if (authData && authData.role === 'Admin') {
<div class="row">
        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
          <mat-form-field class="example-full-width" appearance="fill">
            <mat-label>Number of Questions</mat-label>
            <input type="number" matInput formControlName="numQuestions" min="3" max="20">
          </mat-form-field>
        </div>
        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
          <mat-form-field class="example-full-width" appearance="fill">
            <mat-label>Level</mat-label>
            <input type="text" matInput formControlName="level" [matAutocomplete]="auto">
            <mat-autocomplete #auto="matAutocomplete">
              @for (option of levels; track option) {
              <mat-option [value]="option.value">
                {{option.name}}
              </mat-option>
              }
            </mat-autocomplete>
          </mat-form-field>
        </div>
      </div>
      }

      <div class="container">
        <div class="row settingRow align-items-center">
          <div class="col-4 d-flex align-items-center text-start">
            <h5 class="cmHeading2">Test Mode</h5>
          </div>
          <div class="col-8 text-end">
            <mat-button-toggle-group class="mt-0 mb-0" formControlName="mode" appearance="standard">
              <mat-button-toggle value="Default">Default</mat-button-toggle>
              <mat-button-toggle value="Interactive">Interactive</mat-button-toggle>
            </mat-button-toggle-group>
          </div>
        </div>
        <div class="row settingRow align-items-center">
          <div class="col-6 d-flex align-items-center text-start">
            <h5 class="cmHeading2">Enable Hints</h5>
          </div>
          <div class="col-6 text-end">
            <mat-button-toggle-group class="mt-0 mb-0" formControlName="showHint" appearance="standard">
              <mat-button-toggle [value]="true">Yes</mat-button-toggle>
              <mat-button-toggle [value]="true">No</mat-button-toggle>
            </mat-button-toggle-group>
          </div>
        </div>
        <div class="row settingRow align-items-center">
          <div class="col-6 d-flex align-items-center text-start">
            <h5 class="cmHeading2">Show Answer</h5>
          </div>
          <div class="col-6 text-end">
            <mat-button-toggle-group class="mt-0 mb-0" formControlName="showAnswers" appearance="standard">
              <mat-button-toggle [value]="true">Yes</mat-button-toggle>
              <mat-button-toggle [value]="false">No</mat-button-toggle>
            </mat-button-toggle-group>
          </div>
        </div>
        <div class="row settingRow align-items-center">
          <div class="col-6 d-flex align-items-center text-start">
            <h5 class="cmHeading2">Navigator</h5>
          </div>
          <div class="col-6 text-end">
            <mat-button-toggle-group class="mt-0 mb-0" formControlName="enableNavigation" appearance="standard">
              <mat-button-toggle [value]="true">ON</mat-button-toggle>
              <mat-button-toggle [value]="false">OFF</mat-button-toggle>
            </mat-button-toggle-group>
          </div>
        </div>
        <div class="row settingRow align-items-center">
          <div class="col-6 d-flex align-items-center text-start">
            <h5 class="cmHeading2">Audio</h5>
          </div>
          <div class="col-6 text-end">
            <mat-button-toggle-group class="mt-0 mb-0" formControlName="enableAudio" appearance="standard">
              <mat-button-toggle [value]="true">ON</mat-button-toggle>
              <mat-button-toggle [value]="false">OFF</mat-button-toggle>
            </mat-button-toggle-group>
          </div>
        </div>
        <div class="row settingRow align-items-center">
          <div class="col-6 d-flex align-items-center text-start">
            <h5 class="cmHeading2">Timer</h5>
          </div>
          <div class="col-6 text-end">
            <mat-button-toggle-group class="mt-0 mb-0" formControlName="enableAudio" appearance="standard">
              <mat-button-toggle [value]="true">ON</mat-button-toggle>
              <mat-button-toggle [value]="false">OFF</mat-button-toggle>
            </mat-button-toggle-group>
          </div>
        </div>
      </div>
      <hr class="dim-divider">
      <div class="container-auth-form-btn m-t-20 m-b-10">
        <button mat-flat-button color="accent" class="auth-form-btn" [disabled]="!quizConfigForm.valid || loading"
          type="submit">
          Generate Assessment
        </button>
      </div>
    </form>
    <div class="text-center m-t-10 m-b-10">
      <button mat-button color="accent" (click)="close()">
        Cancel and Exit
      </button>
    </div>
  </div>
</div>
}
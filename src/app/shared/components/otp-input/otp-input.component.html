<!-- container -->
<div class="otp-root" (click)="focusInput()">
  <!-- floating label (material-like) -->
  <!-- <label class="otp-label" [class.shrink]="isFocused || value.length > 0">Enter OTP</label> -->

  <!-- outline box (Material-like) -->
  <div class="otp-outline" [class.focused]="isFocused">
     <!-- visual boxes (pointer-events: none so the input receives clicks directly) -->
     <div class="otp-boxes">
    @for (i of [0,1,2,3,4,5]; track i) {
      <div class="otp-box" [class.active]="value.length === i">
        {{ value[i] || '' }}
      </div>
    }
  </div>
  
    <!-- actual input (invisible but fully overlaying the outline) -->
    <input
      #nativeInput
    class="otp-native-input"
    type="text"
    inputmode="numeric"
    maxlength="6"
    [disabled]="disabled"
    [value]="value"
    (input)="onNativeInput($event)"
    (keydown)="onNativeKeyDown($event)"
    (focus)="onNativeFocus()"
    (blur)="onNativeBlur()"
    (paste)="onNativePaste($event)"
    autocomplete="one-time-code"
    aria-label="OTP"
    />
  </div>

  <!-- small inline error hint (optional) -->
   @if (value.length > 0 && value.length < 6 && !isFocused) {
      <div class="otp-hint">
    OTP incomplete
  </div>
   }
</div>